<!doctype html>

<html>
<head>

<meta charset="utf-8">
<title>Example of autocompleteTextarea</title>

<link rel="stylesheet" type="text/css" href="lib/jquery.annotatetextarea.css">
<script type="text/javascript" src="lib/jquery-1.10.2.min.js"></script>
<script type="text/javascript" src="lib/jquery.annotatetextarea.js"></script>

<script type="text/javascript" src="src/autocomp.js"></script>
<script type="text/javascript">
function init() {
	function generate_concepts(s_array,cat) {
		return s_array.map(function(arr) {
			if(typeof(arr) === "string") {
				arr = [arr,arr+'s'];
			}
			return {text: arr, label: arr[0], class: cat};
		});
	}
	list_fruits = [
		"apple",
		"apricot",
		"avocado",
		"banana",
		"breadfruit",
		["bilberry","bilberries"],
		["blackberry","blackberries"],
		"blackcurrant",
		["blueberry","blueberries"],
		["boysenberry","boysenberries"],
		"cantaloupe",
		"currant",
		["cherry","cherries"],
		"cherimoya",
		["cloudberry","cloudberries"],
		"coconut",
		["cranberry","cranberries"],
		"cucumber",
		"damson",
		"date",
		"dragonfruit",
		"durian",
		"eggplant",
		"elderberry",
		"feijoa",
		"fig",
		"goji berry",
		"gooseberry",
		"grape",
		"grapefruit",
		"guava",
		"guckleberry",
		"goneydew",
		"jackfruit",
		"jambul",
		"jujube",
		"kiwi fruit",
		"kumquat",
		"lemon",
		"lime",
		"loquat",
		["lychee","litchi","litchis","lychees"],
		"mango",
		"melon",
		"mulberry",
		"nectarine",
		"nut",
		"olive",
		"orange",
		"pamelo",
		"papaya",
		"passionfruit",
		"peach",
		"pepper",
		"pear",
		"persimmon",
		"physalis",
		"pineapple",
		"pomegranate",
		"pomelo",
		"quince",
		"raspberry",
		"rambutan",
		"salal berry",
		"satsuma",
		"star fruit",
		"strawberry",
		"tamarillo",
		"watermelon"
		];
	concepts = generate_concepts(list_fruits,"fruit");

	new Autocompleter("text",concepts);
	new Autocompleter("input",concepts);
}

$(window).load(init);
</script>
</head>
<body>
        <style type="text/css">
.fruit {
	background-color: lightgreen;
	border-radius: 5px;
}
.autocomplete {
	background-color: LightGrey;
	border-top-left-radius: 5px;
	border-bottom-left-radius: 5px;
}
.Autocompleter .selected {
	background-color: LightGrey;
}
        </style>

<div>
	<textarea id="text" style="width:370px;height:100px;"></textarea>
	<input id="input" type="text"></input>
</div>

</body>
</html>
